% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/irregFdata.R
\name{sparsify}
\alias{sparsify}
\title{Convert Regular Functional Data to Irregular by Subsampling}
\usage{
sparsify(fdataobj, minObs = 5, maxObs = NULL, prob = NULL, seed = NULL)
}
\arguments{
\item{fdataobj}{An object of class \code{fdata}.}

\item{minObs}{Minimum number of observations to keep per curve.}

\item{maxObs}{Maximum number of observations to keep per curve.
If \code{NULL}, uses the total number of points.}

\item{prob}{Sampling probability function. If \code{NULL}, uniform sampling
is used. Otherwise, a function that takes \code{argvals} and returns
sampling weights (not necessarily normalized).}

\item{seed}{Optional integer random seed for reproducibility.}
}
\value{
An object of class \code{irregFdata}.
}
\description{
Creates an \code{irregFdata} object from regular \code{fdata} by randomly
selecting a subset of observation points for each curve.
}
\details{
For each curve, the function:
\enumerate{
\item Draws a random number of points to keep between \code{minObs} and
\code{maxObs}
\item Samples that many points (without replacement) from the grid
\item If \code{prob} is provided, sampling is weighted accordingly
}

Common probability functions:
\itemize{
\item Uniform: \code{NULL} (default)
\item More points in middle: \code{function(t) dnorm(t, mean = 0.5, sd = 0.2)}
\item More points at ends: \code{function(t) 1 - dnorm(t, mean = 0.5, sd = 0.2)}
}
}
\examples{
# Create regular functional data
t <- seq(0, 1, length.out = 100)
fd <- simFunData(n = 20, argvals = t, M = 5, seed = 42)

# Uniform sparsification
ifd <- sparsify(fd, minObs = 10, maxObs = 30, seed = 123)
print(ifd)
plot(ifd)

# Non-uniform: more observations in the middle
prob_middle <- function(t) dnorm(t, mean = 0.5, sd = 0.2)
ifd_middle <- sparsify(fd, minObs = 15, maxObs = 25, prob = prob_middle, seed = 123)
plot(ifd_middle, main = "More Observations in Middle")
}
\seealso{
\code{\link{irregFdata}}, \code{\link{as.fdata.irregFdata}},
\code{\link{addError}}
}
