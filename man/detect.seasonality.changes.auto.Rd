% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/seasonal.R
\name{detect.seasonality.changes.auto}
\alias{detect.seasonality.changes.auto}
\title{Detect Seasonality Changes with Automatic Threshold}
\usage{
detect.seasonality.changes.auto(
  fdataobj,
  period,
  threshold_method = "otsu",
  threshold_value = NULL,
  window_size = NULL,
  min_duration = NULL
)
}
\arguments{
\item{fdataobj}{An fdata object.}

\item{period}{Known seasonal period.}

\item{threshold_method}{Method for threshold selection:
\describe{
\item{"fixed"}{Use threshold_value as fixed threshold}
\item{"percentile"}{Use threshold_value as percentile of strength distribution}
\item{"otsu"}{Use Otsu's method for bimodal separation (default)}
}}

\item{threshold_value}{Value for "fixed" or "percentile" methods.}

\item{window_size}{Width of sliding window for strength estimation.
Default: 2 * period.}

\item{min_duration}{Minimum duration to confirm a change.
Default: period.}
}
\value{
A list with components:
\describe{
\item{change_points}{Data frame with time, type, strength_before, strength_after}
\item{strength_curve}{Time-varying seasonal strength used for detection}
\item{computed_threshold}{The threshold that was computed/used}
}
}
\description{
Detects points where seasonality starts or stops, using automatic
threshold selection instead of a fixed value.
}
\details{
Otsu's method automatically finds the optimal threshold for separating
seasonal from non-seasonal regions based on the strength distribution.
This is particularly useful when you don't know the appropriate threshold
for your data.
}
\examples{
# Signal that transitions from seasonal to non-seasonal
t <- seq(0, 20, length.out = 400)
X <- ifelse(t < 10, sin(2 * pi * t / 2), rnorm(sum(t >= 10), sd = 0.3))
X <- matrix(X, nrow = 1)
fd <- fdata(X, argvals = t)

# Detect changes with Otsu threshold
changes <- detect.seasonality.changes.auto(fd, period = 2)
print(changes$computed_threshold)
}
